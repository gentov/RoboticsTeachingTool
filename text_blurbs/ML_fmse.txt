Now that we know how we calculate y for a given x and w, how do we calculate w?  We define a loss function that we minimize, seen on the right, called f_mse.  x is the image in vector form, w is the weights in vector form, and y is the training label, or the answer of what the guess should be.  To minimize the loss function, we derive the gradient of the f_mse with respect to w, and set it to 0.  We set it to 0 to solve since f_mse is a convex function, so the critical point is a global mimimum.  For a real valued function f, the gradient with respect to w is seen on the right.  To get the gradient of f_mse with repect to w, it is the same process, just instead of a general function f you have f_mse.  Once the weights are trained using the gradient, we can estimate the y value for any x, meaning the label for any pixel. 